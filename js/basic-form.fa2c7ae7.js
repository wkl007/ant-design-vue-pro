"use strict";(self.webpackChunkant_design_vue_pro=self.webpackChunkant_design_vue_pro||[]).push([[816],{66586:function(e,a,l){l.r(a),l.d(a,{default:function(){return w}});var t=l(66252),o=l(3577);const r={class:"optional"},m={class:"optional"},d={class:"optional"};l(70586);var s=l(61446),i=l(2262),u=l(30381),n=l.n(u),p=l(42119),f=l(4314),b=l(30571),c=l(91046);var v=(0,t.aZ)({name:"BaseForm",setup(){const e=(0,p.yj)(),{t:a}=(0,f.QT)(),l=(0,i.qj)({submitting:!1}),t=(0,i.qj)({title:void 0,date:[],goal:void 0,standard:void 0,client:void 0,invites:void 0,weight:null,public:"1",publicUsers:[]}),o=(0,i.qj)({title:[{required:!0,message:()=>a("form.baseForm.title.required")}],date:[{required:!0,message:()=>a("form.baseForm.date.required"),type:"array"}],goal:[{required:!0,message:()=>a("form.baseForm.goal.required")}],standard:[{required:!0,message:()=>a("form.baseForm.standard.required")}]}),{resetFields:r,validate:m,validateInfos:d}=(0,b.Z)(t,o);return{t:a,route:e,state:l,labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},modelRef:t,validateInfos:d,handleSubmit:async function(e){try{e.preventDefault(),l.submitting=!0,await m();await class{static saveBasicFormData(e){return c.Z.request({url:"/forms/basic-form",method:"post",data:e})}static saveFormData(e){return c.Z.request({url:"/forms",method:"post",data:e})}}.saveBasicFormData({title:t.title,date:[n()(t.date[0]).format("YYYY-MM-DD hh:mm:ss"),n()(t.date[1]).format("YYYY-MM-DD hh:mm:ss")],goal:t.goal,standard:t.standard});l.submitting=!1,s.Z.success("提交成功")}catch(e){l.submitting=!1}},resetFields:r}}});v.render=function(e,a,l,s,i,u){const n=(0,t.up)("a-input"),p=(0,t.up)("a-form-item"),f=(0,t.up)("a-range-picker"),b=(0,t.up)("a-textarea"),c=(0,t.up)("info-circle-outlined"),v=(0,t.up)("a-tooltip"),w=(0,t.up)("a-radio"),h=(0,t.up)("a-radio-group"),F=(0,t.up)("a-select-option"),g=(0,t.up)("a-select"),_=(0,t.up)("a-button"),W=(0,t.up)("a-space"),U=(0,t.up)("a-form"),R=(0,t.up)("a-card"),k=(0,t.up)("page-container");return(0,t.wg)(),(0,t.j4)(k,{title:e.t(`${e.route.meta.title}`)},{content:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.t("form.baseForm.basic.description")),1)])),default:(0,t.w5)((()=>[(0,t.Wm)(R,{bordered:!1},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{"label-col":e.labelCol,"wrapper-col":e.wrapperCol},{default:(0,t.w5)((()=>[(0,t.Wm)(p,(0,t.dG)({label:e.t("form.baseForm.title.label")},e.validateInfos.title),{default:(0,t.w5)((()=>[(0,t.Wm)(n,{value:e.modelRef.title,"onUpdate:value":a[0]||(a[0]=a=>e.modelRef.title=a),placeholder:e.t("form.baseForm.title.placeholder")},null,8,["value","placeholder"])])),_:1},16,["label"]),(0,t.Wm)(p,(0,t.dG)({label:e.t("form.baseForm.date.label")},e.validateInfos.date),{default:(0,t.w5)((()=>[(0,t.Wm)(f,{value:e.modelRef.date,"onUpdate:value":a[1]||(a[1]=a=>e.modelRef.date=a),placeholder:[e.t("form.baseForm.placeholder.start"),e.t("form.baseForm.placeholder.end")],style:{width:"100%"}},null,8,["value","placeholder"])])),_:1},16,["label"]),(0,t.Wm)(p,(0,t.dG)({label:e.t("form.baseForm.goal.label")},e.validateInfos.goal),{default:(0,t.w5)((()=>[(0,t.Wm)(b,{value:e.modelRef.goal,"onUpdate:value":a[2]||(a[2]=a=>e.modelRef.goal=a),placeholder:e.t("form.baseForm.goal.placeholder"),style:{minHeight:32},rows:4},null,8,["value","placeholder"])])),_:1},16,["label"]),(0,t.Wm)(p,(0,t.dG)({label:e.t("form.baseForm.standard.label")},e.validateInfos.standard),{default:(0,t.w5)((()=>[(0,t.Wm)(b,{value:e.modelRef.standard,"onUpdate:value":a[3]||(a[3]=a=>e.modelRef.standard=a),placeholder:e.t("form.baseForm.standard.placeholder"),style:{minHeight:32},rows:4},null,8,["value","placeholder"])])),_:1},16,["label"]),(0,t.Wm)(p,(0,o.vs)((0,t.F4)(e.validateInfos.client)),{label:(0,t.w5)((()=>[(0,t._)("span",null,(0,o.zw)(e.t("form.baseForm.client.label")),1),(0,t._)("em",r,[(0,t.Uk)((0,o.zw)(e.t("form.baseForm.form.optional"))+" ",1),(0,t.Wm)(v,{title:e.t("form.baseForm.label.tooltip")},{default:(0,t.w5)((()=>[(0,t.Wm)(c)])),_:1},8,["title"])])])),default:(0,t.w5)((()=>[(0,t.Wm)(n,{value:e.modelRef.client,"onUpdate:value":a[4]||(a[4]=a=>e.modelRef.client=a),placeholder:e.t("form.baseForm.client.placeholder")},null,8,["value","placeholder"])])),_:1},16),(0,t.Wm)(p,(0,o.vs)((0,t.F4)(e.validateInfos.invites)),{label:(0,t.w5)((()=>[(0,t._)("span",null,(0,o.zw)(e.t("form.baseForm.invites.label")),1),(0,t._)("em",m,(0,o.zw)(e.t("form.baseForm.form.optional")),1)])),default:(0,t.w5)((()=>[(0,t.Wm)(n,{value:e.modelRef.invites,"onUpdate:value":a[5]||(a[5]=a=>e.modelRef.invites=a),placeholder:e.t("form.baseForm.invites.placeholder")},null,8,["value","placeholder"])])),_:1},16),(0,t.Wm)(p,(0,o.vs)((0,t.F4)(e.validateInfos.weight)),{label:(0,t.w5)((()=>[(0,t._)("span",null,(0,o.zw)(e.t("form.baseForm.weight.label")),1),(0,t._)("em",d,(0,o.zw)(e.t("form.baseForm.form.optional")),1)])),default:(0,t.w5)((()=>[(0,t.Wm)(n,{modelValue:e.modelRef.weight,"onUpdate:modelValue":a[6]||(a[6]=a=>e.modelRef.weight=a),placeholder:e.t("form.baseForm.weight.placeholder")},null,8,["modelValue","placeholder"])])),_:1},16),(0,t.Wm)(p,(0,t.dG)({label:e.t("form.baseForm.public.label")},e.validateInfos.public),{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(h,{value:e.modelRef.public,"onUpdate:value":a[7]||(a[7]=a=>e.modelRef.public=a)},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{value:"1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.t("form.baseForm.radio.public")),1)])),_:1}),(0,t.Wm)(w,{value:"2"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.t("form.baseForm.radio.partially-public")),1)])),_:1}),(0,t.Wm)(w,{value:"3"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.t("form.baseForm.radio.private")),1)])),_:1})])),_:1},8,["value"]),(0,t.Wm)(p,(0,t.dG)({style:{marginBottom:0}},e.validateInfos.publicUsers),{default:(0,t.w5)((()=>[(0,t._)("div",{style:(0,o.j5)({margin:"8px 0",display:"2"===e.modelRef.public?"block":"none"})},[(0,t.Wm)(g,{value:e.modelRef.publicUsers,"onUpdate:value":a[8]||(a[8]=a=>e.modelRef.publicUsers=a),mode:"multiple",placeholder:e.t("form.baseForm.publicUsers.placeholder")},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{value:"1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.t("form.baseForm.option.A")),1)])),_:1}),(0,t.Wm)(F,{value:"2"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.t("form.baseForm.option.B")),1)])),_:1}),(0,t.Wm)(F,{value:"3"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.t("form.baseForm.option.C")),1)])),_:1})])),_:1},8,["value","placeholder"]),(0,t._)("span",null,(0,o.zw)(e.t("form.baseForm.label.help")),1)],4)])),_:1},16)])])),_:1},16,["label"]),(0,t.Wm)(p,(0,t.dG)({wrapperCol:{xs:{span:24,offset:0},sm:{span:10,offset:7}}},{style:{marginTop:32}}),{default:(0,t.w5)((()=>[(0,t.Wm)(W,null,{default:(0,t.w5)((()=>[(0,t.Wm)(_,{type:"primary",loading:e.state.submitting,onClick:e.handleSubmit},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.t("form.baseForm.form.submit")),1)])),_:1},8,["loading","onClick"]),(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.t("form.baseForm.form.save")),1)])),_:1})])),_:1})])),_:1},16)])),_:1},8,["label-col","wrapper-col"])])),_:1})])),_:1},8,["title"])};var w=v}}]);