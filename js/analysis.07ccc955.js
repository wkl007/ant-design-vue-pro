(self.webpackChunkant_design_vue_pro=self.webpackChunkant_design_vue_pro||[]).push([[237],{13045:function(a,t,e){"use strict";e.d(t,{Z:function(){return n}});var l=e(80707);class n{static getProjectNotice(){return l.Z.request({url:"/project/notice",method:"get"})}static getActivities(){return l.Z.request({url:"/activities",method:"get"})}static getChartData(){return l.Z.request({url:"/fake_chart_data",method:"get"})}static getTags(){return l.Z.request({url:"/tags",method:"get"})}}},68170:function(a,t,e){"use strict";e.r(t),e.d(t,{default:function(){return Ha}});var l=e(66252);const n={class:"iconGroup"},s=(0,l.Uk)("操作一"),r=(0,l.Uk)("操作二"),o={class:"icon-group"},i=(0,l.Uk)("操作一"),d=(0,l.Uk)("操作二");var u=e(2262),c=e(30381),p=e.n(c),m=e(21781),g=e(3577);const f=(0,l.Wm)("span",{class:"trendText"},"12%",-1),y=(0,l.Wm)("span",{class:"trendText"},"11%",-1),h={style:{overflow:"hidden","white-space":"nowrap"}},w=(0,l.Wm)("span",{class:"trendText"},"12%",-1),v=(0,l.Wm)("span",{class:"trendText"},"11%",-1);const b=(0,l.HX)("data-v-5731921c");(0,l.dD)("data-v-5731921c");const W={class:"chart-card"},k={class:"avatar"},_={class:"mate-wrap"},x={class:"meta"},D={key:0,class:"title"},C={key:1},$={class:"action"},T={key:0,class:"total"},j={key:1,class:"total"};(0,l.Cn)();const z=b(((a,t,e,n,s,r)=>{const o=(0,l.up)("a-card");return(0,l.wg)(),(0,l.j4)(o,{loading:a.loading,bordered:a.bordered,"body-style":{padding:"20px 24px 8px 24px"}},{default:b((()=>[(0,l.Wm)("div",W,[(0,l.Wm)("div",{class:["chart-top",{"chart-top-margin":!a.$slots.default&&!a.$slots.footer}]},[(0,l.Wm)("div",k,[(0,l.WI)(a.$slots,"avatar",{},void 0,!0)]),(0,l.Wm)("div",_,[(0,l.Wm)("div",x,[a.title?((0,l.wg)(),(0,l.j4)("span",D,(0,g.zw)(a.title),1)):((0,l.wg)(),(0,l.j4)("span",C,[(0,l.WI)(a.$slots,"title",{},void 0,!0)])),(0,l.Wm)("span",$,[(0,l.WI)(a.$slots,"action",{},void 0,!0)])]),a.total?((0,l.wg)(),(0,l.j4)("div",T,(0,g.zw)(a.total),1)):a.$slots.total?((0,l.wg)(),(0,l.j4)("div",j,[(0,l.WI)(a.$slots,"total",{},void 0,!0)])):(0,l.kq)("",!0)])],2),a.$slots.default?((0,l.wg)(),(0,l.j4)("div",{key:0,class:"content",style:{height:a.contentHeight?`${a.contentHeight}px`:"auto"}},[(0,l.Wm)("div",{class:a.contentHeight?"content-fixed":""},[(0,l.WI)(a.$slots,"default",{},void 0,!0)],2)],4)):(0,l.kq)("",!0),a.$slots.footer?((0,l.wg)(),(0,l.j4)("div",{key:1,class:["footer",{footerMargin:!!a.$slots.default}]},[(0,l.WI)(a.$slots,"footer",{},void 0,!0)],2)):(0,l.kq)("",!0)])])),_:3},8,["loading","bordered"])}));var S=(0,l.aZ)({name:"ChartCard",props:{total:{type:[Number,String],default:""},contentHeight:{type:Number,required:!0},loading:{type:Boolean,default:!1},title:{type:String,default:""},bordered:{type:Boolean,default:!1}}});S.render=z,S.__scopeId="data-v-5731921c";var I=S;var F=e(57974),P=(0,l.aZ)({name:"Yuan",props:{value:{type:[Number,String],default:""}},setup:()=>({formatYuan:function(a){return`¥ ${(0,F.Y4)(a,"0,0")}`}})});P.render=function(a,t,e,n,s,r){return(0,l.wg)(),(0,l.j4)("span",null,(0,g.zw)(a.formatYuan(a.value)),1)};var A=P;const U=(0,l.HX)("data-v-70594c76")(((a,t,e,n,s,r)=>{const o=(0,l.up)("caret-up-outlined"),i=(0,l.up)("caret-down-outlined");return(0,l.wg)(),(0,l.j4)("div",{class:a.className,title:"string"==typeof a.$slots.default?a.$slots.default:""},[(0,l.Wm)("span",null,[(0,l.WI)(a.$slots,"default",{},void 0,!0)]),a.flag?((0,l.wg)(),(0,l.j4)("span",{key:0,class:a.flag},["up"===a.flag?((0,l.wg)(),(0,l.j4)(o,{key:0})):((0,l.wg)(),(0,l.j4)(i,{key:1}))],2)):(0,l.kq)("",!0)],10,["title"])}));var q=(0,l.aZ)({name:"Trend",props:{colorful:{type:Boolean,default:!0},flag:{type:String,validator:function(a){return-1!==["up","down"].indexOf(a)}},reverseColor:{type:Boolean,default:!1}},setup:()=>({className:{trendItem:!0,trendItemGrey:!1,reverseColor:!1}})});q.render=U,q.__scopeId="data-v-70594c76";var V=q;const Z=(0,l.HX)("data-v-58a4f670");(0,l.dD)("data-v-58a4f670");const R={class:"field"},B={key:0,class:"label"},H={key:1},N={key:2,class:"number"},Y={key:3};(0,l.Cn)();const G=Z(((a,t,e,n,s,r)=>((0,l.wg)(),(0,l.j4)("div",R,[a.label?((0,l.wg)(),(0,l.j4)("span",B,(0,g.zw)(a.label),1)):((0,l.wg)(),(0,l.j4)("span",H,[(0,l.WI)(a.$slots,"label",{},void 0,!0)])),a.value?((0,l.wg)(),(0,l.j4)("span",N,(0,g.zw)(a.value),1)):((0,l.wg)(),(0,l.j4)("span",Y,[(0,l.WI)(a.$slots,"value",{},void 0,!0)]))]))));var L=(0,l.aZ)({name:"Field",props:{label:{type:String,default:""},value:{type:[Number,String],default:""}}});L.render=G,L.__scopeId="data-v-58a4f670";var O=L;const K={xs:24,sm:12,md:12,lg:12,xl:6};var X=(0,l.aZ)({name:"IntroduceRow",components:{ChartCard:I,Yuan:A,Trend:V,Field:O,VTinyArea:m.nO,VTinyColumn:m.G8,VBullet:m.xQ},props:{loading:{type:Boolean,default:!1},data:{type:Array,default:()=>[]}},setup(a){const{i18n:t}=(0,m.cm)(),e=(0,l.Fl)((()=>a.data.map((a=>a.y))));return{gridLayout:K,t:t,areaData:e,numberFormat:F.Y4}}});X.render=function(a,t,e,n,s,r){const o=(0,l.up)("info-circle-outlined"),i=(0,l.up)("a-tooltip"),d=(0,l.up)("yuan"),u=(0,l.up)("trend"),c=(0,l.up)("field"),p=(0,l.up)("chart-card"),m=(0,l.up)("a-col"),b=(0,l.up)("v-tiny-area"),W=(0,l.up)("v-tiny-column"),k=(0,l.up)("v-bullet"),_=(0,l.up)("a-row");return(0,l.wg)(),(0,l.j4)(_,{gutter:24,type:"flex"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,(0,l.dG)(a.gridLayout,{style:{"margin-bottom":"24px"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(p,{bordered:!1,loading:a.loading,"content-height":46},{title:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.$t("dashboard.analysis.total-sales")),1)])),action:(0,l.w5)((()=>[(0,l.Wm)(i,{title:a.$t("dashboard.analysis.introduce")},{default:(0,l.w5)((()=>[(0,l.Wm)(o)])),_:1},8,["title"])])),total:(0,l.w5)((()=>[(0,l.Wm)(d,{value:126560})])),footer:(0,l.w5)((()=>[(0,l.Wm)(c,{label:a.$t("dashboard.analysis.day-sales"),value:`${a.numberFormat(12423,"0,0")}`},null,8,["label","value"])])),default:(0,l.w5)((()=>[(0,l.Wm)(u,{flag:"up",style:{"margin-right":"16px"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.$t("dashboard.analysis.week"))+" ",1),f])),_:1}),(0,l.Wm)(u,{flag:"down"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.$t("dashboard.analysis.day"))+" ",1),y])),_:1})])),_:1},8,["loading"])])),_:1},16),(0,l.Wm)(m,(0,l.dG)(a.gridLayout,{style:{"margin-bottom":"24px"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(p,{bordered:!1,loading:a.loading,"content-height":46},{title:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.$t("dashboard.analysis.visits")),1)])),action:(0,l.w5)((()=>[(0,l.Wm)(i,{title:a.$t("dashboard.analysis.introduce")},{default:(0,l.w5)((()=>[(0,l.Wm)(o)])),_:1},8,["title"])])),total:(0,l.w5)((()=>[(0,l.Wm)(d,{value:a.numberFormat(8846,"0,0")},null,8,["value"])])),footer:(0,l.w5)((()=>[(0,l.Wm)(c,{label:a.$t("dashboard.analysis.day-visits"),value:`${a.numberFormat(12423,"0,0")}`},null,8,["label","value"])])),default:(0,l.w5)((()=>[(0,l.Wm)(b,{height:24,data:a.areaData,color:"#B68FEC",fill:"#B68FEC"},null,8,["data"])])),_:1},8,["loading"])])),_:1},16),(0,l.Wm)(m,(0,l.dG)(a.gridLayout,{style:{"margin-bottom":"24px"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(p,{bordered:!1,loading:a.loading,"content-height":46},{title:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.$t("dashboard.analysis.payments")),1)])),action:(0,l.w5)((()=>[(0,l.Wm)(i,{title:a.$t("dashboard.analysis.introduce")},{default:(0,l.w5)((()=>[(0,l.Wm)(o)])),_:1},8,["title"])])),total:(0,l.w5)((()=>[(0,l.Wm)(d,{value:a.numberFormat(6560,"0,0")},null,8,["value"])])),footer:(0,l.w5)((()=>[(0,l.Wm)(c,{label:a.$t("dashboard.analysis.conversion-rate"),value:"60%"},null,8,["label"])])),default:(0,l.w5)((()=>[(0,l.Wm)(W,{data:a.areaData,height:40},null,8,["data"])])),_:1},8,["loading"])])),_:1},16),(0,l.Wm)(m,(0,l.dG)(a.gridLayout,{style:{"margin-bottom":"24px"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(p,{bordered:!1,loading:a.loading,"content-height":46,total:"78%"},{title:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.$t("dashboard.analysis.operational-effect")),1)])),action:(0,l.w5)((()=>[(0,l.Wm)(i,{title:a.$t("dashboard.analysis.introduce")},{default:(0,l.w5)((()=>[(0,l.Wm)(o)])),_:1},8,["title"])])),footer:(0,l.w5)((()=>[(0,l.Wm)("div",h,[(0,l.Wm)(u,{flag:"up",style:{"margin-right":"16px"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.$t("dashboard.analysis.week"))+" ",1),w])),_:1}),(0,l.Wm)(u,{flag:"down"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.$t("dashboard.analysis.day"))+" ",1),v])),_:1})])])),default:(0,l.w5)((()=>[(0,l.Wm)(k,{measure:"#13C2C2",target:"#13C2C2",height:16})])),_:1},8,["loading"])])),_:1},16)])),_:1})};var M=X;const E={style:{padding:"0 24px"}};const Q=(0,l.HX)("data-v-1dab1b54");(0,l.dD)("data-v-1dab1b54");const J={key:1,class:"number-info-title"},aa={key:3,class:"number-info-sub-title"},ta={key:0,class:"suffix"},ea={key:0,class:"sub-total"};(0,l.Cn)();const la=Q(((a,t,e,n,s,r)=>{const o=(0,l.up)("caret-up-outlined"),i=(0,l.up)("caret-down-outlined");return(0,l.wg)(),(0,l.j4)("div",{class:["number-info",{[`number-info-${a.theme}`]:a.theme}]},[a.title?((0,l.wg)(),(0,l.j4)("div",{key:0,class:"number-info-title",title:a.title},(0,g.zw)(a.title),9,["title"])):a.$slots.title?((0,l.wg)(),(0,l.j4)("div",J,[(0,l.WI)(a.$slots,"title",{},void 0,!0)])):(0,l.kq)("",!0),a.subTitle?((0,l.wg)(),(0,l.j4)("div",{key:2,class:"number-info-sub-title",title:a.subTitle},(0,g.zw)(a.subTitle),9,["title"])):a.$slots.subTitle?((0,l.wg)(),(0,l.j4)("div",aa,[(0,l.WI)(a.$slots,"subTitle",{},void 0,!0)])):(0,l.kq)("",!0),(0,l.Wm)("div",{class:"number-info-value",style:{marginTop:a.gap?`${a.gap}px`:"none"}},[(0,l.Wm)("span",null,[(0,l.Uk)((0,g.zw)(a.total)+" ",1),a.suffix?((0,l.wg)(),(0,l.j4)("em",ta,(0,g.zw)(a.suffix),1)):(0,l.kq)("",!0)]),a.subTotal||a.status?((0,l.wg)(),(0,l.j4)("span",ea,[(0,l.Uk)((0,g.zw)(a.subTotal)+" ",1),"up"===a.status?((0,l.wg)(),(0,l.j4)(o,{key:0})):((0,l.wg)(),(0,l.j4)(i,{key:1}))])):(0,l.kq)("",!0)],4)],2)}));var na=(0,l.aZ)({name:"NumberInfo",props:{title:{type:String,default:""},subTitle:{type:String,default:""},total:{type:[String,Number],default:0},status:{type:String,default:"up",validator:a=>-1!==["up","down"].indexOf(a)},theme:{type:String,default:"light"},gap:{type:Number,default:0},subTotal:{type:[Number,String],default:""},suffix:{type:String,default:""}}});na.render=la,na.__scopeId="data-v-1dab1b54";var sa=na,ra=(0,l.aZ)({name:"OfflineData",components:{NumberInfo:sa,VDualAxes:m.Iv},props:{activeKey:{type:String,default:""},loading:{type:Boolean,default:!1},offlineData:{type:Array,default:()=>[]},offlineChartData:{type:Array,default:()=>[]},handleTabChange:{type:Function,default:()=>[]}},setup(){const{i18n:a}=(0,m.cm)();return{t:a}}});ra.render=function(a,t,e,n,s,r){const o=(0,l.up)("number-info"),i=(0,l.up)("a-col"),d=(0,l.up)("a-row"),u=(0,l.up)("v-dual-axes"),c=(0,l.up)("a-tab-pane"),p=(0,l.up)("a-tabs"),m=(0,l.up)("a-card");return(0,l.wg)(),(0,l.j4)(m,{loading:a.loading,bordered:!1,style:{"margin-top":"32px"},class:"offline-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{"active-key":a.activeKey,onChange:a.handleTabChange},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(a.offlineData,(t=>((0,l.wg)(),(0,l.j4)(c,{key:t.name},{tab:(0,l.w5)((()=>[(0,l.Wm)(d,{gutter:8,style:{width:"70px",margin:"8px 0"},type:"flex"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(o,{title:t.name,"sub-title":a.t("dashboard.analysis.conversion-rate"),gap:2,total:100*t.cvr+"%",theme:a.activeKey!==t.name?"light":void 0},null,8,["title","sub-title","total","theme"])])),_:2},1024)])),_:2},1024)])),default:(0,l.w5)((()=>[(0,l.Wm)("div",E,[(0,l.Wm)(u,{data:a.offlineChartData},null,8,["data"])])])),_:2},1024)))),128))])),_:1},8,["active-key","onChange"])])),_:1},8,["loading"])};var oa=ra;const ia=(0,l.HX)("data-v-3fc45a3c");(0,l.dD)("data-v-3fc45a3c");const da={class:"sales-card-extra"},ua={class:"sales-type-radio"},ca={style:{"margin-top":"8px","margin-bottom":"32px"}};(0,l.Cn)();const pa=ia(((a,t,e,n,s,r)=>{const o=(0,l.up)("a-radio-button"),i=(0,l.up)("a-radio-group"),d=(0,l.up)("v-pie"),u=(0,l.up)("a-card");return(0,l.wg)(),(0,l.j4)(u,{class:"sales-card",style:{height:"100%"},loading:a.loading,bordered:!1,title:a.t("dashboard.analysis.the-proportion-of-sales")},{extra:ia((()=>[(0,l.Wm)("div",da,[(0,l.WI)(a.$slots,"dropdownGroup",{},void 0,!0),(0,l.Wm)("div",ua,[(0,l.Wm)(i,{value:a.salesType,onChange:a.handleChangeSalesType},{default:ia((()=>[(0,l.Wm)(o,{value:"all"},{default:ia((()=>[(0,l.Uk)((0,g.zw)(a.t("dashboard.analysis.channel.all")),1)])),_:1}),(0,l.Wm)(o,{value:"online"},{default:ia((()=>[(0,l.Uk)((0,g.zw)(a.t("dashboard.analysis.channel.online")),1)])),_:1}),(0,l.Wm)(o,{value:"stores"},{default:ia((()=>[(0,l.Uk)((0,g.zw)(a.t("dashboard.analysis.channel.stores")),1)])),_:1})])),_:1},8,["value","onChange"])])])])),default:ia((()=>[(0,l.Wm)("div",null,[(0,l.Wm)("h4",ca,(0,g.zw)(a.t("dashboard.analysis.sales")),1),(0,l.Wm)(d,{height:340,data:a.salesPieData},null,8,["data"])])])),_:1},8,["loading","title"])}));var ma=(0,l.aZ)({name:"ProportionSales",components:{VPie:m.tL},props:{loading:{type:Boolean,default:!1},salesType:{type:String,required:!0,validator:a=>-1!==["all","online","stores"].indexOf(a)},salesPieData:{type:Array,default:()=>[]},handleChangeSalesType:{type:Function,default:()=>null}},setup(){const{i18n:a}=(0,m.cm)();return{t:a}}});ma.render=pa,ma.__scopeId="data-v-3fc45a3c";var ga=ma;const fa=(0,l.HX)("data-v-5a06cfc1");(0,l.dD)("data-v-5a06cfc1");const ya={class:"sales-card"},ha={class:"sales-extra-wrap"},wa={class:"sales-extra"},va={class:"sales-bar"},ba={class:"sales-rank"},Wa={class:"ranking-title"},ka={class:"ranking-list"},_a={class:"ranking-item-value"},xa={class:"sales-bar"},Da={class:"sales-rank"},Ca={class:"ranking-title"},$a={class:"ranking-list"},Ta={class:"ranking-item-value"};(0,l.Cn)();const ja=fa(((a,t,e,n,s,r)=>{const o=(0,l.up)("a-range-picker"),i=(0,l.up)("v-column"),d=(0,l.up)("a-col"),u=(0,l.up)("a-row"),c=(0,l.up)("a-tab-pane"),p=(0,l.up)("a-tabs"),m=(0,l.up)("a-card");return(0,l.wg)(),(0,l.j4)(m,{loading:a.loading,bordered:!1,"body-style":a.loading?{}:{padding:0}},{default:fa((()=>[(0,l.Wm)("div",ya,[(0,l.Wm)(p,{size:"large","tab-bar-style":{marginBottom:"24px"}},{tabBarExtraContent:fa((()=>[(0,l.Wm)("div",ha,[(0,l.Wm)("div",wa,[(0,l.Wm)("a",{class:a.isActive("today"),onClick:t[1]||(t[1]=()=>a.selectDate("today"))},(0,g.zw)(a.t("dashboard.analysis.all-day")),3),(0,l.Wm)("a",{class:a.isActive("week"),onClick:t[2]||(t[2]=()=>a.selectDate("week"))},(0,g.zw)(a.t("dashboard.analysis.all-week")),3),(0,l.Wm)("a",{class:a.isActive("month"),onClick:t[3]||(t[3]=()=>a.selectDate("month"))},(0,g.zw)(a.t("dashboard.analysis.all-month")),3),(0,l.Wm)("a",{class:a.isActive("year"),onClick:t[4]||(t[4]=()=>a.selectDate("year"))},(0,g.zw)(a.t("dashboard.analysis.all-year")),3)]),(0,l.Wm)(o,{style:{width:"256px"},value:a.rangePickerValue,onChange:a.handleRangePickerChange},null,8,["value","onChange"])])])),default:fa((()=>[(0,l.Wm)(c,{key:"sales",tab:a.t("dashboard.analysis.sales")},{default:fa((()=>[(0,l.Wm)(u,{type:"flex"},{default:fa((()=>[(0,l.Wm)(d,{xl:16,lg:12,md:12,sm:24,xs:24},{default:fa((()=>[(0,l.Wm)("div",va,[(0,l.Wm)("h4",null,(0,g.zw)(a.t("dashboard.analysis.sales-trend")),1),(0,l.Wm)(i,{data:a.salesData},null,8,["data"])])])),_:1}),(0,l.Wm)(d,{xl:8,lg:12,md:12,sm:24,xs:24},{default:fa((()=>[(0,l.Wm)("div",ba,[(0,l.Wm)("h4",Wa,(0,g.zw)(a.t("dashboard.analysis.sales-ranking")),1),(0,l.Wm)("ul",ka,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(a.state.rankingListData,((t,e)=>((0,l.wg)(),(0,l.j4)("li",{key:e},[(0,l.Wm)("span",{class:["ranking-item-number",{active:e<3}]},(0,g.zw)(e+1),3),(0,l.Wm)("span",{class:"ranking-item-title",title:t.title},(0,g.zw)(t.title),9,["title"]),(0,l.Wm)("span",_a,(0,g.zw)(a.numberFormat(t.total,"0,0")),1)])))),128))])])])),_:1})])),_:1})])),_:1},8,["tab"]),(0,l.Wm)(c,{key:"views",tab:a.t("dashboard.analysis.visits")},{default:fa((()=>[(0,l.Wm)(u,{type:"flex"},{default:fa((()=>[(0,l.Wm)(d,{xl:16,lg:12,md:12,sm:24,xs:24},{default:fa((()=>[(0,l.Wm)("div",xa,[(0,l.Wm)("h4",null,(0,g.zw)(a.t("dashboard.analysis.visits-trend")),1),(0,l.Wm)(i,{data:a.salesData},null,8,["data"])])])),_:1}),(0,l.Wm)(d,{xl:8,lg:12,md:12,sm:24,xs:24},{default:fa((()=>[(0,l.Wm)("div",Da,[(0,l.Wm)("h4",Ca,(0,g.zw)(a.t("dashboard.analysis.visits-ranking")),1),(0,l.Wm)("ul",$a,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(a.state.rankingListData,((t,e)=>((0,l.wg)(),(0,l.j4)("li",{key:e},[(0,l.Wm)("span",{class:["ranking-item-number",{active:e<3}]},(0,g.zw)(e+1),3),(0,l.Wm)("span",{class:"ranking-item-title",title:t.title},(0,g.zw)(t.title),9,["title"]),(0,l.Wm)("span",Ta,(0,g.zw)(a.numberFormat(t.total,"0,0")),1)])))),128))])])])),_:1})])),_:1})])),_:1},8,["tab"])])),_:1})])])),_:1},8,["loading","body-style"])}));var za=e(80894),Sa=(0,l.aZ)({name:"SalesCard",components:{VColumn:m.WT},props:{loading:{type:Boolean,default:!1},isActive:{type:Function,default:()=>{}},selectDate:{type:Function,default:()=>{}},handleRangePickerChange:{type:Function,default:()=>{}},rangePickerValue:{type:Array,default:()=>[]},salesData:{type:Array,default:()=>[]}},setup(a){const t=(0,za.oR)(),{i18n:e}=(0,m.cm)(),n=(0,l.Fl)((()=>t.getters.lang)),s=(0,u.qj)({rankingListData:[]});function r(){s.rankingListData=[];for(let a=0;a<7;a+=1)s.rankingListData.push({title:e("dashboard.analysis.test"),total:323234})}return(0,l.bv)((()=>{r()})),(0,l.YP)((()=>n.value),(a=>{r()})),{t:e,state:s,numberFormat:F.Y4}}});Sa.render=ja,Sa.__scopeId="data-v-5a06cfc1";var Ia=Sa;const Fa={class:"area-wrapper",style:{height:"45px"}},Pa={class:"area-wrapper",style:{height:"45px"}},Aa={href:"/"},Ua={style:{"margin-right":"4px"}};var qa=(0,l.aZ)({name:"TopSearch",components:{VTinyArea:m.nO,Trend:V,NumberInfo:sa},props:{loading:{type:Boolean,default:!1},visitData:{type:Array,default:()=>[]},searchData:{type:Array}},setup(a){const{i18n:t}=(0,m.cm)(),e=[{align:"center",title:t("dashboard.analysis.table.rank"),dataIndex:"index",key:"index"},{align:"center",title:t("dashboard.analysis.table.search-keyword"),dataIndex:"keyword",key:"keyword",scopedSlots:{customRender:"keywordRender"}},{align:"center",title:t("dashboard.analysis.table.users"),dataIndex:"count",key:"count",sorter:(a,t)=>a.count.length-t.count.length,class:"alignRight"},{align:"center",title:t("dashboard.analysis.table.weekly-range"),dataIndex:"range",key:"range",sorter:(a,t)=>a.range-t.range,scopedSlots:{customRender:"rangeRender"}}];return{t:t,state:(0,u.qj)({columns:e,areaData:(0,l.Fl)((()=>a.visitData.map((a=>a.y))))}),numberFormat:F.Y4}}});qa.render=function(a,t,e,n,s,r){const o=(0,l.up)("info-circle-outlined"),i=(0,l.up)("a-tooltip"),d=(0,l.up)("number-info"),u=(0,l.up)("v-tiny-area"),c=(0,l.up)("a-col"),p=(0,l.up)("a-row"),m=(0,l.up)("trend"),f=(0,l.up)("a-table"),y=(0,l.up)("a-card");return(0,l.wg)(),(0,l.j4)(y,{style:{height:"100%"},loading:a.loading,bordered:!1,title:a.t("dashboard.analysis.online-top-search")},{extra:(0,l.w5)((()=>[(0,l.WI)(a.$slots,"dropdownGroup")])),default:(0,l.w5)((()=>[(0,l.Wm)(p,{gutter:68,type:"flex"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{sm:12,xs:24,style:{"margin-bottom":"24px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{gap:8,total:a.numberFormat(12321,"0,0"),status:"up","sub-total":17.1},{subTitle:(0,l.w5)((()=>[(0,l.Wm)("span",null,[(0,l.Uk)((0,g.zw)(a.t("dashboard.analysis.search-users"))+" ",1),(0,l.Wm)(i,{title:a.t("dashboard.analysis.introduce")},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{style:{"margin-left":"8px"}})])),_:1},8,["title"])])])),_:1},8,["total","sub-total"]),(0,l.Wm)("div",Fa,[(0,l.Wm)(u,{data:a.state.areaData,height:45},null,8,["data"])])])),_:1}),(0,l.Wm)(c,{sm:12,xs:24,style:{"margin-bottom":"24px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{total:2.7,status:"down","sub-total":26.2,gap:8},{subTitle:(0,l.w5)((()=>[(0,l.Wm)("span",null,[(0,l.Uk)((0,g.zw)(a.t("dashboard.analysis.per-capita-search"))+" ",1),(0,l.Wm)(i,{title:a.t("dashboard.analysis.introduce")},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{style:{"margin-left":"8px"}})])),_:1},8,["title"])])])),_:1},8,["total","sub-total"]),(0,l.Wm)("div",Pa,[(0,l.Wm)(u,{data:a.state.areaData,height:45},null,8,["data"])])])),_:1})])),_:1}),(0,l.Wm)(f,{size:"small","row-key":a=>a.index,columns:a.state.columns,"data-source":a.searchData,pagination:{style:{marginBottom:0},pageSize:5}},{keywordRender:(0,l.w5)((({text:a})=>[(0,l.Wm)("a",Aa,(0,g.zw)(a),1)])),rangeRender:(0,l.w5)((({text:a,record:t})=>[(0,l.Wm)(m,{flag:1===t.status?"down":"up"},{default:(0,l.w5)((()=>[(0,l.Wm)("span",Ua,(0,g.zw)(a)+"%",1)])),_:2},1032,["flag"])])),_:1},8,["row-key","columns","data-source"])])),_:1},8,["loading","title"])};var Va=qa,Za=e(13045);function Ra(a){const t=new Date,e=864e5;if("today"===a)return t.setHours(0),t.setMinutes(0),t.setSeconds(0),[p()(t),p()(t.getTime()+86399e3)];if("week"===a){let a=t.getDay();t.setHours(0),t.setMinutes(0),t.setSeconds(0),0===a?a=6:a-=1;const l=t.getTime()-a*e;return[p()(l),p()(l+604799e3)]}const l=t.getFullYear();if("month"===a){const a=t.getMonth(),e=p()(t).add(1,"months"),n=e.year(),s=e.month();return[p()(`${l}-${(0,F.rj)(a+1)}-01 00:00:00`),p()(p()(`${n}-${(0,F.rj)(s+1)}-01 00:00:00`).valueOf()-1e3)]}return[p()(`${l}-01-01 00:00:00`),p()(`${l}-12-31 23:59:59`)]}var Ba=(0,l.aZ)({name:"Analysis",components:{GridContent:m.fT,IntroduceRow:M,SalesCard:Ia,TopSearch:Va,ProportionSales:ga,OfflineData:oa},setup(){const a=(0,u.qj)({loading:!1,chartData:{},activeKey:"Stores 0",salesType:"all",rangePickerValue:Ra("year")}),t=(0,l.Fl)((()=>{const{salesTypeData:t,salesTypeDataOnline:e,salesTypeDataOffline:l}=a.chartData;let n=[];return n="all"===a.salesType?t:"online"===a.salesType?e:l,n}));return(0,l.bv)((()=>{!async function(){try{a.loading=!0,a.chartData=await Za.Z.getChartData(),a.loading=!1}catch(t){a.loading=!1}}()})),{state:a,salesPieData:t,isActive:function(t){const e=Ra(t);return a.rangePickerValue[0]&&a.rangePickerValue[1]&&a.rangePickerValue[0].isSame(e[0],"day")&&a.rangePickerValue[1].isSame(e[1],"day")?"current-date":""},selectDate:function(t){a.rangePickerValue=Ra(t)},handleRangePickerChange:function(t){a.rangePickerValue=t},handleTabChange:function(t){a.activeKey=t},handleChangeSalesType:function(t){a.salesType=t.target.value}}}});Ba.render=function(a,t,e,u,c,p){const m=(0,l.up)("introduce-row"),g=(0,l.up)("sales-card"),f=(0,l.up)("a-menu-item"),y=(0,l.up)("a-menu"),h=(0,l.up)("ellipsis-outlined"),w=(0,l.up)("a-dropdown"),v=(0,l.up)("top-search"),b=(0,l.up)("a-col"),W=(0,l.up)("proportion-sales"),k=(0,l.up)("a-row"),_=(0,l.up)("offline-data"),x=(0,l.up)("grid-content");return(0,l.wg)(),(0,l.j4)(x,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{loading:a.state.loading,data:a.state.chartData.visitData},null,8,["loading","data"]),(0,l.Wm)(g,{"range-picker-value":a.state.rangePickerValue,"sales-data":a.state.chartData.salesData,"is-active":a.isActive,"handle-range-picker-change":a.handleRangePickerChange,loading:a.state.loading,"select-date":a.selectDate},null,8,["range-picker-value","sales-data","is-active","handle-range-picker-change","loading","select-date"]),(0,l.Wm)(k,{gutter:24,type:"flex",style:{"margin-top":"24px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{xl:12,lg:24,md:24,sm:24,xs:24},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{loading:a.state.loading,"visit-data":a.state.chartData.visitData2,"search-data":a.state.chartData.searchData},{dropdownGroup:(0,l.w5)((()=>[(0,l.Wm)("span",n,[(0,l.Wm)(w,{placement:"bottomRight"},{overlay:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[s])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[r])),_:1})])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(h)])),_:1})])])),_:1},8,["loading","visit-data","search-data"])])),_:1}),(0,l.Wm)(b,{xl:12,lg:24,md:24,sm:24,xs:24},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{loading:a.state.loading,"sales-type":a.state.salesType,"sales-pie-data":a.salesPieData,"handle-change-sales-type":a.handleChangeSalesType},{dropdownGroup:(0,l.w5)((()=>[(0,l.Wm)("span",o,[(0,l.Wm)(w,{placement:"bottomRight"},{overlay:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[i])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[d])),_:1})])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(h)])),_:1})])])),_:1},8,["loading","sales-type","sales-pie-data","handle-change-sales-type"])])),_:1})])),_:1}),(0,l.Wm)(_,{style:{"margin-top":"24px"},"active-key":a.state.activeKey,loading:a.state.loading,"offline-data":a.state.chartData.offlineData,"offline-chart-data":a.state.chartData.offlineChartData,"handle-tab-change":a.handleTabChange},null,8,["active-key","loading","offline-data","offline-chart-data","handle-tab-change"])])),_:1})};var Ha=Ba}}]);