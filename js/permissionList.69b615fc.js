(self.webpackChunkant_design_vue_pro=self.webpackChunkant_design_vue_pro||[]).push([[1193],{67631:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return W}});var a=t(66252),l=t(3577),o={class:"ant-pro-table"},i={class:"ant-pro-table-search"},u=(0,a.Uk)(" 新增权限 ");var r=t(13782),d=t(36571),s=(t(68309),t(2262)),c=t(51916);var m=t(55518),f={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}}},p=["add","delete","update","query","import","export"],b=(0,a.aZ)({name:"PermissionModal",props:{visible:{type:Boolean,default:!1},model:{type:Object,default:function(){}}},emits:["ok","cancel"],setup:function(){var e=(0,s.qj)({id:-1,name:void 0,label:void 0,actions:[]}),n=(0,s.qj)({id:[{required:!0,message:"编码必须填写",type:"number"}],name:[{required:!0,message:"权限名称必须填写"}],label:[{required:!0,message:"显示名称必须填写"}]}),t=(0,m.cI)(e,n),a=t.resetFields,l=(t.validate,t.validateInfos);return{formLayout:f,permissionActions:p,modelRef:e,validateInfos:l,resetFields:a,handleSubmit:function(){}}}});b.render=function(e,n,t,o,i,u){var r=(0,a.up)("a-input"),d=(0,a.up)("a-form-item"),s=(0,a.up)("a-select-option"),c=(0,a.up)("a-select"),m=(0,a.up)("a-form"),f=(0,a.up)("a-modal");return(0,a.wg)(),(0,a.j4)(f,{title:"权限编辑",visible:e.visible,width:600,centered:"",onOk:e.handleSubmit,onCancel:n[5]||(n[5]=function(){e.resetFields(),e.$emit("cancel")})},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,e.formLayout,{default:(0,a.w5)((function(){return[(0,a.Wm)(d,(0,a.dG)({label:"编号",disabled:""},e.validateInfos.id),{default:(0,a.w5)((function(){return[(0,a.Wm)(r,{disabled:"",value:e.modelRef.id,"onUpdate:value":n[1]||(n[1]=function(n){return e.modelRef.id=n}),placeholder:"编号"},null,8,["value"])]})),_:1},16),(0,a.Wm)(d,(0,a.dG)({label:"权限名称"},e.validateInfos.name),{default:(0,a.w5)((function(){return[(0,a.Wm)(r,{value:e.modelRef.name,"onUpdate:value":n[2]||(n[2]=function(n){return e.modelRef.name=n}),placeholder:"权限名称"},null,8,["value"])]})),_:1},16),(0,a.Wm)(d,(0,a.dG)({label:"显示名称"},e.validateInfos.label),{default:(0,a.w5)((function(){return[(0,a.Wm)(r,{value:e.modelRef.label,"onUpdate:value":n[3]||(n[3]=function(n){return e.modelRef.label=n}),placeholder:"显示名称"},null,8,["value"])]})),_:1},16),(0,a.Wm)(d,{label:"操作类型"},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{value:e.modelRef.actions,"onUpdate:value":n[4]||(n[4]=function(n){return e.modelRef.actions=n}),placeholder:"操作类型",mode:"tags",style:{width:"100%"}},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.permissionActions,(function(e){return(0,a.wg)(),(0,a.j4)(s,{key:e},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,l.zw)(e),1)]})),_:2},1024)})),128))]})),_:1},8,["value"])]})),_:1})]})),_:1},16)]})),_:1},8,["visible","onOk"])};var v=b,h=t(31696),g=t(44863),w=[{align:"center",title:"#",dataIndex:"id"},{align:"center",title:"权限名称",dataIndex:"name"},{align:"center",title:"Action",dataIndex:"actions",slots:{customRender:"actions"},width:400},{align:"center",title:"操作",dataIndex:"action",slots:{customRender:"action"}}],C=(0,a.aZ)({name:"PermissionList",components:{TableToolbar:c.fj,PermissionModal:v},setup:function(){var e=(0,s.qj)({permissionModal:(0,s.iH)(),visible:!1,currentData:{}}),n=(0,h.yW)(w,!0),t=n.state,l=n.dynamicColumns,o=n.dynamicColumnItems,i=n.handleColumnAllClick,u=n.handleColumnChange,c=n.reset,m=n.move,f=(0,h.O9)(),p=(0,d.Z)(f,3),b=p[0],v=p[1],C=p[2],W=C.setFull,_=C.exitFull,k=(0,h.$5)(g.Z.getPermissions,{current:1,pageSize:10,tableSize:"middle"}),y=k.context,R=k.reload,S=k.setPageInfo;return(0,r.Z)((0,r.Z)({state:y,columnState:t},(0,s.BK)(e)),{},{dynamicColumns:l,dynamicColumnItems:o,elRef:b,screenState:v,setFull:W,exitFull:_,reset:c,move:m,handleTableChange:function(e,n){var t=e.current,a=e.pageSize;S((0,r.Z)({current:t,pageSize:a},n)),R()},handleColumnChange:u,handleColumnAllClick:i,handleReload:function(){S({current:1,pageSize:10}),R()},handleModalVisible:function(n,t){e.visible=n,e.currentData=t,n&&t.id&&(0,a.Y3)((function(){e.permissionModal.modelRef.id=t.id,e.permissionModal.modelRef.name=t.name,e.permissionModal.modelRef.label=t.label,e.permissionModal.modelRef.actions=t.actions}))}})}});C.render=function(e,n,t,r,d,s){var c=(0,a.up)("a-input"),m=(0,a.up)("a-form-item"),f=(0,a.up)("a-col"),p=(0,a.up)("a-row"),b=(0,a.up)("a-form"),v=(0,a.up)("plus-outlined"),h=(0,a.up)("a-button"),g=(0,a.up)("table-toolbar"),w=(0,a.up)("a-tag"),C=(0,a.up)("a-table"),W=(0,a.up)("a-card"),_=(0,a.up)("permission-modal"),k=(0,a.up)("page-container");return(0,a.wg)(),(0,a.j4)(k,null,{default:(0,a.w5)((function(){return[(0,a.Wm)("div",o,[(0,a.Wm)("div",i,[(0,a.Wm)(b,{layout:"horizontal"},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{gutter:16,type:"flex",justfy:"start"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{xs:24,sm:24,md:12},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,{label:"权限名称"},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{placeholder:"权限名称"})]})),_:1})]})),_:1}),(0,a.Wm)(f,{xs:24,sm:24,md:12},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,{label:"描述"},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{placeholder:"描述"})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]),(0,a.Wm)(W,{"body-style":{padding:0},ref:"elRef"},{default:(0,a.w5)((function(){return[(0,a.Wm)(g,{title:"角色列表","screen-state":e.screenState,indeterminate:e.columnState.indeterminate,"column-items":e.dynamicColumnItems,"table-size":e.state.tableSize,"onUpdate:table-size":n[2]||(n[2]=function(n){return e.state.tableSize=n}),"check-all":e.columnState.checkAll,"onUpdate:check-all":n[3]||(n[3]=function(n){return e.columnState.checkAll=n}),onReload:e.handleReload,onReset:e.reset,onSetFull:e.setFull,onExitFull:e.exitFull,onChange:e.handleColumnChange,onChangeAll:e.handleColumnAllClick,onMove:e.move},{action:(0,a.w5)((function(){return[(0,a.Wm)(h,{type:"primary",onClick:n[1]||(n[1]=function(n){return e.handleModalVisible(!0,{})})},{default:(0,a.w5)((function(){return[(0,a.Wm)(v),u]})),_:1})]})),_:1},8,["screen-state","indeterminate","column-items","table-size","check-all","onReload","onReset","onSetFull","onExitFull","onChange","onChangeAll","onMove"]),(0,a.Wm)(C,{"row-key":"id",size:e.state.tableSize,loading:e.state.loading,columns:e.dynamicColumns,"data-source":e.state.dataSource,pagination:{current:e.state.current,pageSize:e.state.pageSize,total:e.state.total},onChange:e.handleTableChange},{actions:(0,a.w5)((function(e){var n=e.record;return[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(n.actions,(function(e){return(0,a.wg)(),(0,a.j4)(w,{key:e},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,l.zw)(e),1)]})),_:2},1024)})),128))]})),action:(0,a.w5)((function(n){var t=n.record;return[(0,a.Wm)("a",{href:"javascript:;",onClick:function(n){return e.handleModalVisible(!0,t)}}," 编辑 ",8,["onClick"])]})),_:1},8,["size","loading","columns","data-source","pagination","onChange"])]})),_:1},512)]),(0,a.Wm)(_,{ref:"permissionModal",visible:e.visible,model:e.currentData,onCancel:n[4]||(n[4]=function(n){return e.handleModalVisible(!1,e.currentData)})},null,8,["visible","model"])]})),_:1})};var W=C}}]);