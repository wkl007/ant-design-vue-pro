"use strict";(self.webpackChunkant_design_vue_pro=self.webpackChunkant_design_vue_pro||[]).push([[237],{39792:function(a,t,e){e.d(t,{Z:function(){return n}});var l=e(91046);class n{static getProjectNotice(){return l.Z.request({url:"/project/notice",method:"get"})}static getActivities(){return l.Z.request({url:"/activities",method:"get"})}static getChartData(){return l.Z.request({url:"/fake_chart_data",method:"get"})}static getTags(){return l.Z.request({url:"/tags",method:"get"})}}},36236:function(a,t,e){e.r(t),e.d(t,{default:function(){return qa}});var l=e(66252);const n={class:"iconGroup"},s=(0,l.Uk)("操作一"),r=(0,l.Uk)("操作二"),i={class:"icon-group"},o=(0,l.Uk)("操作一"),d=(0,l.Uk)("操作二");var u=e(2262),c=e(30381),p=e.n(c),g=e(46693),m=e(3577);const y=(0,l._)("span",{class:"trendText"},"12%",-1),f=(0,l._)("span",{class:"trendText"},"11%",-1),w={style:{overflow:"hidden","white-space":"nowrap"}},h=(0,l._)("span",{class:"trendText"},"12%",-1),v=(0,l._)("span",{class:"trendText"},"11%",-1);var b=e(4314);(0,l.dD)("data-v-5731921c");const _={class:"chart-card"},k={class:"avatar"},W={class:"mate-wrap"},D={class:"meta"},x={key:0,class:"title"},C={key:1},T={class:"action"},z={key:0,class:"total"},$={key:1,class:"total"};(0,l.Cn)();var S=(0,l.aZ)({name:"ChartCard",props:{total:{type:[Number,String],default:""},contentHeight:{type:Number,required:!0},loading:{type:Boolean,default:!1},title:{type:String,default:""},bordered:{type:Boolean,default:!1}}});S.render=function(a,t,e,n,s,r){const i=(0,l.up)("a-card");return(0,l.wg)(),(0,l.j4)(i,{loading:a.loading,bordered:a.bordered,"body-style":{padding:"20px 24px 8px 24px"}},{default:(0,l.w5)((()=>[(0,l._)("div",_,[(0,l._)("div",{class:(0,m.C_)(["chart-top",{"chart-top-margin":!a.$slots.default&&!a.$slots.footer}])},[(0,l._)("div",k,[(0,l.WI)(a.$slots,"avatar",{},void 0,!0)]),(0,l._)("div",W,[(0,l._)("div",D,[a.title?((0,l.wg)(),(0,l.iD)("span",x,(0,m.zw)(a.title),1)):((0,l.wg)(),(0,l.iD)("span",C,[(0,l.WI)(a.$slots,"title",{},void 0,!0)])),(0,l._)("span",T,[(0,l.WI)(a.$slots,"action",{},void 0,!0)])]),a.total?((0,l.wg)(),(0,l.iD)("div",z,(0,m.zw)(a.total),1)):a.$slots.total?((0,l.wg)(),(0,l.iD)("div",$,[(0,l.WI)(a.$slots,"total",{},void 0,!0)])):(0,l.kq)("",!0)])],2),a.$slots.default?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"content",style:(0,m.j5)({height:a.contentHeight?`${a.contentHeight}px`:"auto"})},[(0,l._)("div",{class:(0,m.C_)(a.contentHeight?"content-fixed":"")},[(0,l.WI)(a.$slots,"default",{},void 0,!0)],2)],4)):(0,l.kq)("",!0),a.$slots.footer?((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,m.C_)(["footer",{footerMargin:!!a.$slots.default}])},[(0,l.WI)(a.$slots,"footer",{},void 0,!0)],2)):(0,l.kq)("",!0)])])),_:3},8,["loading","bordered"])},S.__scopeId="data-v-5731921c";var I=S;var F=e(93527),P=(0,l.aZ)({name:"Yuan",props:{value:{type:[Number,String],default:""}},setup:()=>({formatYuan:function(a){return`¥ ${(0,F.Y4)(a,"0,0")}`}})});P.render=function(a,t,e,n,s,r){return(0,l.wg)(),(0,l.iD)("span",null,(0,m.zw)(a.formatYuan(a.value)),1)};var j=P;(0,l.dD)("data-v-70594c76");const A=["title"];(0,l.Cn)();var U=(0,l.aZ)({name:"Trend",props:{colorful:{type:Boolean,default:!0},flag:{type:String,validator:function(a){return-1!==["up","down"].indexOf(a)}},reverseColor:{type:Boolean,default:!1}},setup:()=>({className:{trendItem:!0,trendItemGrey:!1,reverseColor:!1}})});U.render=function(a,t,e,n,s,r){const i=(0,l.up)("caret-up-outlined"),o=(0,l.up)("caret-down-outlined");return(0,l.wg)(),(0,l.iD)("div",{class:(0,m.C_)(a.className),title:"string"==typeof a.$slots.default?a.$slots.default:""},[(0,l._)("span",null,[(0,l.WI)(a.$slots,"default",{},void 0,!0)]),a.flag?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,m.C_)(a.flag)},["up"===a.flag?((0,l.wg)(),(0,l.j4)(i,{key:0})):((0,l.wg)(),(0,l.j4)(o,{key:1}))],2)):(0,l.kq)("",!0)],10,A)},U.__scopeId="data-v-70594c76";var q=U;(0,l.dD)("data-v-58a4f670");const V={class:"field"},Z={key:0,class:"label"},R={key:1},B={key:2,class:"number"},N={key:3};(0,l.Cn)();var Y=(0,l.aZ)({name:"Field",props:{label:{type:String,default:""},value:{type:[Number,String],default:""}}});Y.render=function(a,t,e,n,s,r){return(0,l.wg)(),(0,l.iD)("div",V,[a.label?((0,l.wg)(),(0,l.iD)("span",Z,(0,m.zw)(a.label),1)):((0,l.wg)(),(0,l.iD)("span",R,[(0,l.WI)(a.$slots,"label",{},void 0,!0)])),a.value?((0,l.wg)(),(0,l.iD)("span",B,(0,m.zw)(a.value),1)):((0,l.wg)(),(0,l.iD)("span",N,[(0,l.WI)(a.$slots,"value",{},void 0,!0)]))])},Y.__scopeId="data-v-58a4f670";var G=Y;const L={xs:24,sm:12,md:12,lg:12,xl:6};var O=(0,l.aZ)({name:"IntroduceRow",components:{ChartCard:I,Yuan:j,Trend:q,Field:G,VTinyArea:g.nO,VTinyColumn:g.G8,VBullet:g.xQ},props:{loading:{type:Boolean,default:!1},data:{type:Array,default:()=>[]}},setup(a){const{t:t}=(0,b.QT)(),e=(0,u.Fl)((()=>a.data.map((a=>a.y))));return{gridLayout:L,t:t,areaData:e,numberFormat:F.Y4}}});O.render=function(a,t,e,n,s,r){const i=(0,l.up)("info-circle-outlined"),o=(0,l.up)("a-tooltip"),d=(0,l.up)("yuan"),u=(0,l.up)("trend"),c=(0,l.up)("field"),p=(0,l.up)("chart-card"),g=(0,l.up)("a-col"),b=(0,l.up)("v-tiny-area"),_=(0,l.up)("v-tiny-column"),k=(0,l.up)("v-bullet"),W=(0,l.up)("a-row");return(0,l.wg)(),(0,l.j4)(W,{gutter:24,type:"flex"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,(0,l.dG)(a.gridLayout,{style:{"margin-bottom":"24px"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(p,{bordered:!1,loading:a.loading,"content-height":46},{title:(0,l.w5)((()=>[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.total-sales")),1)])),action:(0,l.w5)((()=>[(0,l.Wm)(o,{title:a.t("dashboard.analysis.introduce")},{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1},8,["title"])])),total:(0,l.w5)((()=>[(0,l.Wm)(d,{value:126560})])),footer:(0,l.w5)((()=>[(0,l.Wm)(c,{label:a.t("dashboard.analysis.day-sales"),value:`${a.numberFormat(12423,"0,0")}`},null,8,["label","value"])])),default:(0,l.w5)((()=>[(0,l.Wm)(u,{flag:"up",style:{"margin-right":"16px"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.week"))+" ",1),y])),_:1}),(0,l.Wm)(u,{flag:"down"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.day"))+" ",1),f])),_:1})])),_:1},8,["loading"])])),_:1},16),(0,l.Wm)(g,(0,l.dG)(a.gridLayout,{style:{"margin-bottom":"24px"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(p,{bordered:!1,loading:a.loading,"content-height":46},{title:(0,l.w5)((()=>[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.visits")),1)])),action:(0,l.w5)((()=>[(0,l.Wm)(o,{title:a.t("dashboard.analysis.introduce")},{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1},8,["title"])])),total:(0,l.w5)((()=>[(0,l.Wm)(d,{value:a.numberFormat(8846,"0,0")},null,8,["value"])])),footer:(0,l.w5)((()=>[(0,l.Wm)(c,{label:a.t("dashboard.analysis.day-visits"),value:`${a.numberFormat(12423,"0,0")}`},null,8,["label","value"])])),default:(0,l.w5)((()=>[(0,l.Wm)(b,{height:24,data:a.areaData,color:"#B68FEC",fill:"#B68FEC"},null,8,["data"])])),_:1},8,["loading"])])),_:1},16),(0,l.Wm)(g,(0,l.dG)(a.gridLayout,{style:{"margin-bottom":"24px"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(p,{bordered:!1,loading:a.loading,"content-height":46},{title:(0,l.w5)((()=>[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.payments")),1)])),action:(0,l.w5)((()=>[(0,l.Wm)(o,{title:a.t("dashboard.analysis.introduce")},{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1},8,["title"])])),total:(0,l.w5)((()=>[(0,l.Wm)(d,{value:a.numberFormat(6560,"0,0")},null,8,["value"])])),footer:(0,l.w5)((()=>[(0,l.Wm)(c,{label:a.t("dashboard.analysis.conversion-rate"),value:"60%"},null,8,["label"])])),default:(0,l.w5)((()=>[(0,l.Wm)(_,{data:a.areaData,height:40},null,8,["data"])])),_:1},8,["loading"])])),_:1},16),(0,l.Wm)(g,(0,l.dG)(a.gridLayout,{style:{"margin-bottom":"24px"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(p,{bordered:!1,loading:a.loading,"content-height":46,total:"78%"},{title:(0,l.w5)((()=>[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.operational-effect")),1)])),action:(0,l.w5)((()=>[(0,l.Wm)(o,{title:a.t("dashboard.analysis.introduce")},{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1},8,["title"])])),footer:(0,l.w5)((()=>[(0,l._)("div",w,[(0,l.Wm)(u,{flag:"up",style:{"margin-right":"16px"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.week"))+" ",1),h])),_:1}),(0,l.Wm)(u,{flag:"down"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.day"))+" ",1),v])),_:1})])])),default:(0,l.w5)((()=>[(0,l.Wm)(k,{measure:"#13C2C2",target:"#13C2C2",height:16})])),_:1},8,["loading"])])),_:1},16)])),_:1})};var H=O;const K={style:{padding:"0 24px"}};(0,l.dD)("data-v-1dab1b54");const Q=["title"],M={key:1,class:"number-info-title"},E=["title"],J={key:3,class:"number-info-sub-title"},X={key:0,class:"suffix"},aa={key:0,class:"sub-total"};(0,l.Cn)();var ta=(0,l.aZ)({name:"NumberInfo",props:{title:{type:String,default:""},subTitle:{type:String,default:""},total:{type:[String,Number],default:0},status:{type:String,default:"up",validator:a=>-1!==["up","down"].indexOf(a)},theme:{type:String,default:"light"},gap:{type:Number,default:0},subTotal:{type:[Number,String],default:""},suffix:{type:String,default:""}}});ta.render=function(a,t,e,n,s,r){const i=(0,l.up)("caret-up-outlined"),o=(0,l.up)("caret-down-outlined");return(0,l.wg)(),(0,l.iD)("div",{class:(0,m.C_)(["number-info",{[`number-info-${a.theme}`]:a.theme}])},[a.title?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"number-info-title",title:a.title},(0,m.zw)(a.title),9,Q)):a.$slots.title?((0,l.wg)(),(0,l.iD)("div",M,[(0,l.WI)(a.$slots,"title",{},void 0,!0)])):(0,l.kq)("",!0),a.subTitle?((0,l.wg)(),(0,l.iD)("div",{key:2,class:"number-info-sub-title",title:a.subTitle},(0,m.zw)(a.subTitle),9,E)):a.$slots.subTitle?((0,l.wg)(),(0,l.iD)("div",J,[(0,l.WI)(a.$slots,"subTitle",{},void 0,!0)])):(0,l.kq)("",!0),(0,l._)("div",{class:"number-info-value",style:(0,m.j5)({marginTop:a.gap?`${a.gap}px`:"none"})},[(0,l._)("span",null,[(0,l.Uk)((0,m.zw)(a.total)+" ",1),a.suffix?((0,l.wg)(),(0,l.iD)("em",X,(0,m.zw)(a.suffix),1)):(0,l.kq)("",!0)]),a.subTotal||a.status?((0,l.wg)(),(0,l.iD)("span",aa,[(0,l.Uk)((0,m.zw)(a.subTotal)+" ",1),"up"===a.status?((0,l.wg)(),(0,l.j4)(i,{key:0})):((0,l.wg)(),(0,l.j4)(o,{key:1}))])):(0,l.kq)("",!0)],4)],2)},ta.__scopeId="data-v-1dab1b54";var ea=ta,la=(0,l.aZ)({name:"OfflineData",components:{NumberInfo:ea,VDualAxes:g.Iv},props:{activeKey:{type:String,default:""},loading:{type:Boolean,default:!1},offlineData:{type:Array,default:()=>[]},offlineChartData:{type:Array,default:()=>[]},handleTabChange:{type:Function,default:()=>[]}},setup(){const{t:a}=(0,b.QT)();return{t:a}}});la.render=function(a,t,e,n,s,r){const i=(0,l.up)("number-info"),o=(0,l.up)("a-col"),d=(0,l.up)("a-row"),u=(0,l.up)("v-dual-axes"),c=(0,l.up)("a-tab-pane"),p=(0,l.up)("a-tabs"),g=(0,l.up)("a-card");return(0,l.wg)(),(0,l.j4)(g,{loading:a.loading,bordered:!1,style:{"margin-top":"32px"},class:"offline-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{"active-key":a.activeKey,onChange:a.handleTabChange},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.offlineData,(t=>((0,l.wg)(),(0,l.j4)(c,{key:t.name},{tab:(0,l.w5)((()=>[(0,l.Wm)(d,{gutter:8,style:{width:"70px",margin:"8px 0"},type:"flex"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,{title:t.name,"sub-title":a.t("dashboard.analysis.conversion-rate"),gap:2,total:100*t.cvr+"%",theme:a.activeKey!==t.name?"light":void 0},null,8,["title","sub-title","total","theme"])])),_:2},1024)])),_:2},1024)])),default:(0,l.w5)((()=>[(0,l._)("div",K,[(0,l.Wm)(u,{data:a.offlineChartData},null,8,["data"])])])),_:2},1024)))),128))])),_:1},8,["active-key","onChange"])])),_:1},8,["loading"])};var na=la;(0,l.dD)("data-v-237b2a3c");const sa={class:"sales-card-extra"},ra={class:"sales-type-radio"},ia={style:{"margin-top":"8px","margin-bottom":"32px"}};(0,l.Cn)();var oa=(0,l.aZ)({name:"ProportionSales",components:{VPie:g.tL},props:{loading:{type:Boolean,default:!1},salesType:{type:String,required:!0,validator:a=>-1!==["all","online","stores"].indexOf(a)},salesPieData:{type:Array,default:()=>[]},handleChangeSalesType:{type:Function,default:()=>null}},setup(){const{t:a}=(0,b.QT)();return{t:a}}});oa.render=function(a,t,e,n,s,r){const i=(0,l.up)("a-radio-button"),o=(0,l.up)("a-radio-group"),d=(0,l.up)("v-pie"),u=(0,l.up)("a-card");return(0,l.wg)(),(0,l.j4)(u,{class:"sales-card",style:{height:"100%"},loading:a.loading,bordered:!1,title:a.t("dashboard.analysis.the-proportion-of-sales")},{extra:(0,l.w5)((()=>[(0,l._)("div",sa,[(0,l.WI)(a.$slots,"dropdownGroup",{},void 0,!0),(0,l._)("div",ra,[(0,l.Wm)(o,{value:a.salesType,onChange:a.handleChangeSalesType},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{value:"all"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.channel.all")),1)])),_:1}),(0,l.Wm)(i,{value:"online"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.channel.online")),1)])),_:1}),(0,l.Wm)(i,{value:"stores"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.channel.stores")),1)])),_:1})])),_:1},8,["value","onChange"])])])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l._)("h4",ia,(0,m.zw)(a.t("dashboard.analysis.sales")),1),(0,l.Wm)(d,{height:340,data:a.salesPieData},null,8,["data"])])])),_:3},8,["loading","title"])},oa.__scopeId="data-v-237b2a3c";var da=oa;(0,l.dD)("data-v-3aee9ccd");const ua={class:"sales-card"},ca={class:"sales-extra-wrap"},pa={class:"sales-extra"},ga={class:"sales-bar"},ma={class:"sales-rank"},ya={class:"ranking-title"},fa={class:"ranking-list"},wa=["title"],ha={class:"ranking-item-value"},va={class:"sales-bar"},ba={class:"sales-rank"},_a={class:"ranking-title"},ka={class:"ranking-list"},Wa=["title"],Da={class:"ranking-item-value"};(0,l.Cn)();var xa=e(80894),Ca=(0,l.aZ)({name:"SalesCard",components:{VColumn:g.WT},props:{loading:{type:Boolean,default:!1},isActive:{type:Function,default:()=>{}},selectDate:{type:Function,default:()=>{}},handleRangePickerChange:{type:Function,default:()=>{}},rangePickerValue:{type:Array,default:()=>[]},salesData:{type:Array,default:()=>[]}},setup(a){const t=(0,xa.oR)(),{t:e}=(0,b.QT)(),n=(0,u.Fl)((()=>t.getters.lang)),s=(0,u.qj)({rankingListData:[]});function r(){s.rankingListData=[];for(let a=0;a<7;a+=1)s.rankingListData.push({title:e("dashboard.analysis.test"),total:323234})}return(0,l.bv)((()=>{r()})),(0,l.YP)((()=>n.value),(a=>{r()})),{t:e,state:s,numberFormat:F.Y4}}});Ca.render=function(a,t,e,n,s,r){const i=(0,l.up)("a-range-picker"),o=(0,l.up)("v-column"),d=(0,l.up)("a-col"),u=(0,l.up)("a-row"),c=(0,l.up)("a-tab-pane"),p=(0,l.up)("a-tabs"),g=(0,l.up)("a-card");return(0,l.wg)(),(0,l.j4)(g,{loading:a.loading,bordered:!1,"body-style":a.loading?{}:{padding:0}},{default:(0,l.w5)((()=>[(0,l._)("div",ua,[(0,l.Wm)(p,{size:"large","tab-bar-style":{marginBottom:"24px"}},{tabBarExtraContent:(0,l.w5)((()=>[(0,l._)("div",ca,[(0,l._)("div",pa,[(0,l._)("a",{class:(0,m.C_)(a.isActive("today")),onClick:t[0]||(t[0]=()=>a.selectDate("today"))},(0,m.zw)(a.t("dashboard.analysis.all-day")),3),(0,l._)("a",{class:(0,m.C_)(a.isActive("week")),onClick:t[1]||(t[1]=()=>a.selectDate("week"))},(0,m.zw)(a.t("dashboard.analysis.all-week")),3),(0,l._)("a",{class:(0,m.C_)(a.isActive("month")),onClick:t[2]||(t[2]=()=>a.selectDate("month"))},(0,m.zw)(a.t("dashboard.analysis.all-month")),3),(0,l._)("a",{class:(0,m.C_)(a.isActive("year")),onClick:t[3]||(t[3]=()=>a.selectDate("year"))},(0,m.zw)(a.t("dashboard.analysis.all-year")),3)]),(0,l.Wm)(i,{style:{width:"256px"},value:a.rangePickerValue,onChange:a.handleRangePickerChange},null,8,["value","onChange"])])])),default:(0,l.w5)((()=>[(0,l.Wm)(c,{key:"sales",tab:a.t("dashboard.analysis.sales")},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{type:"flex"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{xl:16,lg:12,md:12,sm:24,xs:24},{default:(0,l.w5)((()=>[(0,l._)("div",ga,[(0,l._)("h4",null,(0,m.zw)(a.t("dashboard.analysis.sales-trend")),1),(0,l.Wm)(o,{data:a.salesData},null,8,["data"])])])),_:1}),(0,l.Wm)(d,{xl:8,lg:12,md:12,sm:24,xs:24},{default:(0,l.w5)((()=>[(0,l._)("div",ma,[(0,l._)("h4",ya,(0,m.zw)(a.t("dashboard.analysis.sales-ranking")),1),(0,l._)("ul",fa,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.state.rankingListData,((t,e)=>((0,l.wg)(),(0,l.iD)("li",{key:e},[(0,l._)("span",{class:(0,m.C_)(["ranking-item-number",{active:e<3}])},(0,m.zw)(e+1),3),(0,l._)("span",{class:"ranking-item-title",title:t.title},(0,m.zw)(t.title),9,wa),(0,l._)("span",ha,(0,m.zw)(a.numberFormat(t.total,"0,0")),1)])))),128))])])])),_:1})])),_:1})])),_:1},8,["tab"]),(0,l.Wm)(c,{key:"views",tab:a.t("dashboard.analysis.visits")},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{type:"flex"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{xl:16,lg:12,md:12,sm:24,xs:24},{default:(0,l.w5)((()=>[(0,l._)("div",va,[(0,l._)("h4",null,(0,m.zw)(a.t("dashboard.analysis.visits-trend")),1),(0,l.Wm)(o,{data:a.salesData},null,8,["data"])])])),_:1}),(0,l.Wm)(d,{xl:8,lg:12,md:12,sm:24,xs:24},{default:(0,l.w5)((()=>[(0,l._)("div",ba,[(0,l._)("h4",_a,(0,m.zw)(a.t("dashboard.analysis.visits-ranking")),1),(0,l._)("ul",ka,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.state.rankingListData,((t,e)=>((0,l.wg)(),(0,l.iD)("li",{key:e},[(0,l._)("span",{class:(0,m.C_)(["ranking-item-number",{active:e<3}])},(0,m.zw)(e+1),3),(0,l._)("span",{class:"ranking-item-title",title:t.title},(0,m.zw)(t.title),9,Wa),(0,l._)("span",Da,(0,m.zw)(a.numberFormat(t.total,"0,0")),1)])))),128))])])])),_:1})])),_:1})])),_:1},8,["tab"])])),_:1})])])),_:1},8,["loading","body-style"])},Ca.__scopeId="data-v-3aee9ccd";var Ta=Ca;const za={class:"area-wrapper",style:{height:"45px"}},$a={class:"area-wrapper",style:{height:"45px"}},Sa={href:"/"},Ia={style:{"margin-right":"4px"}};var Fa=(0,l.aZ)({name:"TopSearch",components:{VTinyArea:g.nO,Trend:q,NumberInfo:ea},props:{loading:{type:Boolean,default:!1},visitData:{type:Array,default:()=>[]},searchData:{type:Array}},setup(a){const{t:t}=(0,b.QT)(),e=[{align:"center",title:t("dashboard.analysis.table.rank"),dataIndex:"index",key:"index"},{align:"center",title:t("dashboard.analysis.table.search-keyword"),dataIndex:"keyword",key:"keyword",scopedSlots:{customRender:"keywordRender"}},{align:"center",title:t("dashboard.analysis.table.users"),dataIndex:"count",key:"count",sorter:(a,t)=>a.count.length-t.count.length,class:"alignRight"},{align:"center",title:t("dashboard.analysis.table.weekly-range"),dataIndex:"range",key:"range",sorter:(a,t)=>a.range-t.range,scopedSlots:{customRender:"rangeRender"}}];return{t:t,state:(0,u.qj)({columns:e,areaData:(0,u.Fl)((()=>a.visitData.map((a=>a.y))))}),numberFormat:F.Y4}}});Fa.render=function(a,t,e,n,s,r){const i=(0,l.up)("info-circle-outlined"),o=(0,l.up)("a-tooltip"),d=(0,l.up)("number-info"),u=(0,l.up)("v-tiny-area"),c=(0,l.up)("a-col"),p=(0,l.up)("a-row"),g=(0,l.up)("trend"),y=(0,l.up)("a-table"),f=(0,l.up)("a-card");return(0,l.wg)(),(0,l.j4)(f,{style:{height:"100%"},loading:a.loading,bordered:!1,title:a.t("dashboard.analysis.online-top-search")},{extra:(0,l.w5)((()=>[(0,l.WI)(a.$slots,"dropdownGroup")])),default:(0,l.w5)((()=>[(0,l.Wm)(p,{gutter:68,type:"flex"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{sm:12,xs:24,style:{"margin-bottom":"24px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{gap:8,total:a.numberFormat(12321,"0,0"),status:"up","sub-total":17.1},{subTitle:(0,l.w5)((()=>[(0,l._)("span",null,[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.search-users"))+" ",1),(0,l.Wm)(o,{title:a.t("dashboard.analysis.introduce")},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{style:{"margin-left":"8px"}})])),_:1},8,["title"])])])),_:1},8,["total","sub-total"]),(0,l._)("div",za,[(0,l.Wm)(u,{data:a.state.areaData,height:45},null,8,["data"])])])),_:1}),(0,l.Wm)(c,{sm:12,xs:24,style:{"margin-bottom":"24px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{total:2.7,status:"down","sub-total":26.2,gap:8},{subTitle:(0,l.w5)((()=>[(0,l._)("span",null,[(0,l.Uk)((0,m.zw)(a.t("dashboard.analysis.per-capita-search"))+" ",1),(0,l.Wm)(o,{title:a.t("dashboard.analysis.introduce")},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{style:{"margin-left":"8px"}})])),_:1},8,["title"])])])),_:1},8,["total","sub-total"]),(0,l._)("div",$a,[(0,l.Wm)(u,{data:a.state.areaData,height:45},null,8,["data"])])])),_:1})])),_:1}),(0,l.Wm)(y,{size:"small","row-key":a=>a.index,columns:a.state.columns,"data-source":a.searchData,pagination:{style:{marginBottom:0},pageSize:5}},{keywordRender:(0,l.w5)((({text:a})=>[(0,l._)("a",Sa,(0,m.zw)(a),1)])),rangeRender:(0,l.w5)((({text:a,record:t})=>[(0,l.Wm)(g,{flag:1===t.status?"down":"up"},{default:(0,l.w5)((()=>[(0,l._)("span",Ia,(0,m.zw)(a)+"%",1)])),_:2},1032,["flag"])])),_:1},8,["row-key","columns","data-source"])])),_:3},8,["loading","title"])};var Pa=Fa,ja=e(39792);function Aa(a){const t=new Date,e=864e5;if("today"===a)return t.setHours(0),t.setMinutes(0),t.setSeconds(0),[p()(t),p()(t.getTime()+86399e3)];if("week"===a){let a=t.getDay();t.setHours(0),t.setMinutes(0),t.setSeconds(0),0===a?a=6:a-=1;const l=t.getTime()-a*e;return[p()(l),p()(l+604799e3)]}const l=t.getFullYear();if("month"===a){const a=t.getMonth(),e=p()(t).add(1,"months"),n=e.year(),s=e.month();return[p()(`${l}-${(0,F.rj)(a+1)}-01 00:00:00`),p()(p()(`${n}-${(0,F.rj)(s+1)}-01 00:00:00`).valueOf()-1e3)]}return[p()(`${l}-01-01 00:00:00`),p()(`${l}-12-31 23:59:59`)]}var Ua=(0,l.aZ)({name:"Analysis",components:{GridContent:g.fT,IntroduceRow:H,SalesCard:Ta,TopSearch:Pa,ProportionSales:da,OfflineData:na},setup(){const a=(0,u.qj)({loading:!1,chartData:{},activeKey:"Stores 0",salesType:"all",rangePickerValue:Aa("year")}),t=(0,u.Fl)((()=>{const{salesTypeData:t,salesTypeDataOnline:e,salesTypeDataOffline:l}=a.chartData;let n=[];return n="all"===a.salesType?t:"online"===a.salesType?e:l,n}));return(0,l.bv)((()=>{!async function(){try{a.loading=!0,a.chartData=await ja.Z.getChartData(),a.loading=!1}catch(t){a.loading=!1}}()})),{state:a,salesPieData:t,isActive:function(t){const e=Aa(t);return a.rangePickerValue[0]&&a.rangePickerValue[1]&&a.rangePickerValue[0].isSame(e[0],"day")&&a.rangePickerValue[1].isSame(e[1],"day")?"current-date":""},selectDate:function(t){a.rangePickerValue=Aa(t)},handleRangePickerChange:function(t){a.rangePickerValue=t},handleTabChange:function(t){a.activeKey=t},handleChangeSalesType:function(t){a.salesType=t.target.value}}}});Ua.render=function(a,t,e,u,c,p){const g=(0,l.up)("introduce-row"),m=(0,l.up)("sales-card"),y=(0,l.up)("a-menu-item"),f=(0,l.up)("a-menu"),w=(0,l.up)("ellipsis-outlined"),h=(0,l.up)("a-dropdown"),v=(0,l.up)("top-search"),b=(0,l.up)("a-col"),_=(0,l.up)("proportion-sales"),k=(0,l.up)("a-row"),W=(0,l.up)("offline-data"),D=(0,l.up)("grid-content");return(0,l.wg)(),(0,l.j4)(D,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,{loading:a.state.loading,data:a.state.chartData.visitData},null,8,["loading","data"]),(0,l.Wm)(m,{"range-picker-value":a.state.rangePickerValue,"sales-data":a.state.chartData.salesData,"is-active":a.isActive,"handle-range-picker-change":a.handleRangePickerChange,loading:a.state.loading,"select-date":a.selectDate},null,8,["range-picker-value","sales-data","is-active","handle-range-picker-change","loading","select-date"]),(0,l.Wm)(k,{gutter:24,type:"flex",style:{"margin-top":"24px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{xl:12,lg:24,md:24,sm:24,xs:24},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{loading:a.state.loading,"visit-data":a.state.chartData.visitData2,"search-data":a.state.chartData.searchData},{dropdownGroup:(0,l.w5)((()=>[(0,l._)("span",n,[(0,l.Wm)(h,{placement:"bottomRight"},{overlay:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[s])),_:1}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[r])),_:1})])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(w)])),_:1})])])),_:1},8,["loading","visit-data","search-data"])])),_:1}),(0,l.Wm)(b,{xl:12,lg:24,md:24,sm:24,xs:24},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{loading:a.state.loading,"sales-type":a.state.salesType,"sales-pie-data":a.salesPieData,"handle-change-sales-type":a.handleChangeSalesType},{dropdownGroup:(0,l.w5)((()=>[(0,l._)("span",i,[(0,l.Wm)(h,{placement:"bottomRight"},{overlay:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[o])),_:1}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[d])),_:1})])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(w)])),_:1})])])),_:1},8,["loading","sales-type","sales-pie-data","handle-change-sales-type"])])),_:1})])),_:1}),(0,l.Wm)(W,{style:{"margin-top":"24px"},"active-key":a.state.activeKey,loading:a.state.loading,"offline-data":a.state.chartData.offlineData,"offline-chart-data":a.state.chartData.offlineChartData,"handle-tab-change":a.handleTabChange},null,8,["active-key","loading","offline-data","offline-chart-data","handle-tab-change"])])),_:1})};var qa=Ua}}]);